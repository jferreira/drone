


<style>
.img-circle {
  border-radius: 50%;
  max-width: 20%;
}

.bookings-thumbnail {
  display: inline-block; background-color: grey; width: 50px;
}

.red {
  background-color: red;
}

.green {
  background-color: green;
}
</style>



<div class="banner-half" style="background-image: linear-gradient(-225deg, rgba(0,101,168,0.6) 0%, rgba(0,36,61,0.6) 50%), url('https://s3-us-west-2.amazonaws.com/hispotion-prod/wp-content/uploads/2015/09/surf-video-759x500.jpg');">
  <div class="banner-content">

    <% if current_user.url_image.nil? %>
      <img class="img-circle" src="http://www.buckinghamandcompany.com.au/wp-content/uploads/2016/03/profile-placeholder.png" alt="">
    <% else %>
      <!-- Include here user image -->
      <img class="img-circle" src="#" alt="">
    <% end %>


    <h1><%= current_user.first_name.nil? ? 'Hello stranger' : current_user.first_name %></h1>
    <p><%= current_user.location.nil? ? 'Lovely island' : current_user.location %></p>
<!--     <a class="btn btn-primary btn-lg">Start now</a> -->
  </div>
</div>

    <div class="container text-center">
      <div class="row">
        <div class="col-sm-4">
          <p class="bookings-header-title">Your bookings</p>
        </div>
        <div class="col-sm-4">
          <p class="jobs-header-title">Your jobs</p>
        </div>
        <div class="col-sm-4">
          <p class="profile-header-title">Profile Settings</p>
        </div>
      </div>
    </div><br>

<div class="container">

    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-14">

        <% if @bookings.length.zero? %>

        <p>Make your first booking</p>

        <% end %>

          <% @bookings.each_with_index do |booking, idx|%>

              <% number_hours = ((booking.end_datetime - booking.start_datetime) / 3600).floor %>

                <% status_color = booking.status === 'Accepted' ? 'green' : 'red' %>
                  <div class="booking-container">
                    <div class="container text-center">

                      <div class="row booking-first-half <%= status_color %>">

                        <div class="col-sm-4">
                          <p class="booking-index">#<%= idx + 1%></p>
                        </div>
                        <div class="col-sm-4">
                          <p class="booking-date">
                            <%= booking.start_datetime.strftime("%m/%d/%Y") %>
                          </p>
                        </div>
                        <div class="col-sm-4">
                          <p class="booking-duration"><%= number_hours %> hours</p>
                          <p class="booking-total-cost">
                            $<%= booking.cost.tr('$','').to_i * number_hours.round(0) %>
                          </p>
                        </div>
                      </div>
                    </div><br>

                    <div class="container">
                      <div class="row ">
                        <div class="col-sm-12 text-center">
                          <p class="bookings-thumbnail">image</p>
                        </div>
                      </div>
                    </div><br>

                    <div class="container text-center">
                      <div class="row">
                        <div class="col-sm-12">
                          <div class="location-box">
                            <p class="booking-title">Kit Kat</p> <!-- To be changed -->
                            <p class="location-data"><%= booking.location %></p>
                          </div>
                        </div>
                      </div>
                    </div><br>


                    <!-- Accept / Reject booking Section -->

                    <div class="container text-center">
                      <div class="row">
                        <div class="col-sm-6">

                          <%= link_to 'Reject',
                          cancel_booking_path(booking),
                          method: :patch,
                          class: 'btn btn-danger reject-booking'
                           %>


                        </div>
                        <div class="col-sm-6">

                          <%= link_to 'Accept',
                          accept_booking_path(booking),
                          method: :patch,
                          class: 'btn btn-default accept-booking'
                           %>


                        </div>
                      </div>
                    </div><br>

                  </div>
          <% end %>

        </div>
    </div>
</div>


